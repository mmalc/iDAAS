This is the iDAAS Platform central repository. It is designed to be a launch point for content, and where all the specific components and additional artifacts that make iDAAS an extensible platform can be found. For general awareness, any iDAAS component's code IS ONLY intended to be run within resources that leverage the needed upstream software, or equivalent licensed software as defined in the content below. In addition, this effort through its <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache 2.0 open source licensing</a> selection, ensures appropriate protection for all parties. Red Hat Healthcare is doing this to help the broader healthcare community, and while a market within Red Hat, this is an independent effort. 

# Background
For decades, and for a variety of reasons, integration has been a challenge across the various markets within healthcare (clinical, financial, pharmacy and life sciences). Red Hat's specific industry teams are focused on ensuring that our technologies meet the each industry's needs, ensuring our customers have the platforms that solve their particular challenges. The focus of the Red Hat healthcare team is enabling and empowering healthcare organizations to transform by infusing Red Hat's open methodology, open source mindset and community-based culture. As the Red Hat healthcare team started this journey, they also wanted to ensure they could help showcase how Red Hat addressed the many variant and expansive needs of a healthcare organization, especially integration. 

As the Red Hat healthcare team thought about potential ways to help the organizations, they wanted to ensure there were a set of specific differentiators, irrespective of platform.  These are:

* Extensibility
* Reduce proprietary knowledge
* Open source enablement
* Modern application development/delivery capabilities
* Reduce proprietary skillsets
* Innovative disruption
* Deliver consistentcy
* Polyglot language support

Here's how the differentiators are expressed in more detail:

* Extensibility: The focus has been on building an extensible platform based on need and usage. The platform is just a series of components that can be connected, extended or new components built as developers and business teams work together. It enables healthcare organizations, ranging from the small to the larger, more complex, build sophisticated solutions using ANY pieces of transactional data accessed or generated by any component or facility within the platform. 
* Reduce proprietary knowledge: We have removed COTS or black box software and gone with a very open approach. Our approach leverages the numerous Open Source and upstream Open Source products Red Hat is engaged in. Here are several of the technologies this platform leverages: Spring Boot, Red Hat Fuse, Red Hat Process Automation Manager (Business Rules, Workflow and Complex Event Processing), Red Hat AMQ Streams (Kafka) and we also have an AMQ release as well.
* Open source enablement: Provide the source code of the components to extend as needed.
* Modern application development/delivery capabilities: Where applicable, everything is cloud native/container focused. Several of the platform components are based on Spring Boot for easy of deployment and running.
* Reduce Preprietary Skillsets: Removing COTS centric skillsets. This platform provides industry best technologies to enable healthcare to rapidly build new capabilities. 
* Disruption: The mission of platform is to enable disruption and enable innovation at the speed of both the business and technologists.
* Deliver Consistency: With a focus on industry standard design and integration patterns, deep knowledge of specific industry standards aren't required to get started, just common developer skillsets. 
* Polyglot Language Support: Enabling the use of many different programming languages. The focus here is to ensure, by major capability area, a programming language is supported.

As discussed in the introduction, integration has been a challenge within each healthcare market for decades. These challenges have been driven by many different factors for example:
* Industry standards (e.g. HL7) that aren't constrained enough
* Clinical software vendor market constraints
* COTS integration vendor lock-in
* Government mandates that healthcare providers cannot directly support without third party vendor engagement.

# Connected Health / iDAAS (Intelligent Data As A Service) Platform
When assessing the competencies of a digital healthcare organization, data and data integration ranks very highly. Given data integration is a core capability of the Red Hat team, it seemed a logical place to start building out a healthcare platform.

With this focus around data integration, the Red Hat healthcare team wanted to ensure iDAAS platform was nimble, lightweight, and focused on capabilities that ensure a healthcare market's needs could be addressed in a consistent manner. To ensure proper direction, the Red Hat healthcare team put together a capability matrix to clearly define what iDAAS could and would address.

## The five R's
Here are five key capabilities, the five R’s:

* Receive: Receive data from various formats. We have branded this capability iDAAS Connect, where the focus is on industry standards and third-party connectivity. Industry standards supported include HL7 v2, FHIR, and EDI Claims. There are future plans for NCPDP and HL7 v3 message support is being discussed. From a third party connectivity perspective, we focus on building an on-ramp for data to be leveraged within iDAAS for over 75 common protocols and technologies like JDBC data sources, File, FTP(S), SFTP, APIs, WSDL, AS400, Mongo, Kafka, numerous cloud platforms and many more.
* Route: Enable data to be routed to many sources. For this capability we have focused on building out several specific components such as a healthcare event builder (both code and integration) to form the intelligent healthcare data router. In order to demonstrate this, our focus was on building a reusable, repeatable, enterprise application integration message pattern along with the ability for organizations to build and deliver healthcare event streaming.
* Run:  This is one of the most exciting capabilities we are enabling and it's done through our Data Realtime Exchange Automated Management (DREAM) component. DREAM is all about driving change in the healthcare community, and building out a value exchange that can be used by anyone implementing iDAAS to add new capabilities in a low latency environment at very low risk. Essentially, you build a component that has the capability of acting on streaming information and being invoked in a real-time manner. These actions include event population and building, business rules enablement, third party application integration, AI, ML, dynamic mapping of data sources, cross mapping codes etc.
* Resolve: Enable error handling and insight to resolve potential processing issues, with the ability to replay messages for new needs.
* Research: Enable access to information in a reusable, auditable manner. This includes our ability to enable real time clinical information to be tagged as its passing through the platform.

## Core technology components
Here are the technologies that drive the capabilities:

* Integration: Ties back to Red Hat’s Fuse and its upstream Apache Camel community. This technology is backed by one of the most active communities and has continued to grow and expand for well over a decade. As part of its commitment, there are thousands of implementations of all sizes, types and scale in numerous industries, with some of them growing to support 1 billion daily transactions. Contributing to this growth are the hundred plus connectors that it natively supports. These will be very beneficial for Red Hat’s healthcare team as the platform looks to grow and expand based on feedback and demand. 
* Business Rules: This capability is supported by Decision Manager and the upstream Drools community. This technology is widely adopted and implemented throughout the community. Drools has a very large footprint in organizations all over the world, delivering expert based solutions and capabilities.
* Data Streaming: A key effort for us is enabling, and building, a high-end data streaming and distribution platform. This capability is being supported by AMQ-Streams and the upstream Kafka community. We are also looking at future implementations with other distributed queuing technologies. As a side note, there is also a codebase built atop Apache-MQ; however, we maintain this code **ONLY** for resources that would rather leverage that technology.
* APIs: we have developed all the APIs leveraging .NET Core v3. This will be in two separate efforts, one for the platform, the other for the data tier.
* UX /User Interfaces: The user experience for the platform is currently driven by .NET Core v3 based assets and a very modern, responsive application design. These applications are best run on the industry leading OpenShift platform for scale. The security model for these capabilities is currently being worked through to ensure the platform is demonstrable. The focus is on showcasing security and enabling adopters to tie it to LDAP/AD or SAML based systems for the highest level of security.
* Data: We currently are moving to support DDLs for SQL Server, Maria DB (MySQL) and PostgreSQL due to their wide adoption within healthcare. The first few implementations will be SQL Server DDL centric and finalizing and validating the data model. We also intend to expand towards NoSQL standards quickly as we continue to implement new features.
The overall objective of Connected Health/iDAAS, is to simplify data integration and interoperability. Establishing a platform enabled the team to focus on identifying the core industry needs, and developing capabilities to address each one. 

Here is a general visual of how iDAAS fits in and can enable innovation and solve the problem of integration in the clinical space:
<p align="center" >
<img src="content/images/iDAAS-Platform/iDAAS%20-%20High%20Level%20Solution%20Overview.png" alt="Healthcare Integration" width="500" height="350" />
</p>

Here is a visual on the iDAAS Platform and all its specific components:
<p align="center" >
<img src="content/images/iDAAS-Platform/iDAAS%20Platform%20-%20iDAAS%20Connect%20and%20Vendor%20FHIR%20Modules.png" alt="iDAAS Component Design" 
width="600" height="600" />
</p>

# Technologies Used By iDAAS
The iDAAS (Intelligent Data as a Service) Clinical platform is intended for usage for the healthcare market. It contains the following Red Hat technologies, (this platform will also work with their upstream equivalents):

| Capabilty Area | Upstream Release | Red Hat Release |Requirement|
| -------------- | ---------------- | --------------- |---------- |
| Integration    | Apache Camel     | Red Hat Fuse   | Core of the Platform|
| Business Rules | Drools           | Red Hat Decision Mgr |Used by iDAAS Dream, can be optional if no DREAM components implemented|
| Data Streaming | Apache Kafka     | Red Hat AMQ Streams |Requirement by platform for messaging |
| Containers     | K8               | OpenShift            |End User defined, platform can be run stand alone or at scale|

It contains the following non-Red Hat technologies:

| Capabilty Area | Technologies |
| -------------- | ------------ |
| RDBMS    | MS SQL Server, PostgreSQL or MariaDB     |
| Programming Language(s) | Java 1.8 or higher (determined by software implementations) </br>.NET Core 3 for APIs and UI Platforms|

# iDAAS Platform Components
Below is a breakdown of each of the components that make up the iDAAS Platform

## iDAAS Connect
The problem of healthcare connectivity and data enablement has been around for decades. Vendors have had long standing practices of limiting paying customers to the data within the systems they operate and manage. As healthcare organizations prepare for their digital experiences, or look to re-evaluate their current digital experience capabilities, this is no longer a practice that can be tolerated or endured. Within the iDAAS Connect platforms there is a wide breadth of supported transactions. Please <a href="https://github.com/RedHat-Healthcare/iDAAS/blob/master/IntegrationStandardsSupported.md" target="_blank">look here</a> for the supported transactions.

iDAAS Connect Family of Offerings (These are linked to the respective code repositories):
  
* <a href="https://github.com/RedHat-Healthcare/iDAAS-Connect-Clinical-IndustryStandards" target="_blank">iDAAS Connect Clinical - Industry Standards</a>: This provides industry standard message formats and protocols to support clinical healthcare integration. Its core focus is HL7v2 and FHIR based transactions. From an integration connectivity and standards perspective, it supports HL7v2 messages of the following types from any vendor and any specific message version from 2.1 to 2.8: 
  * ADT (Admissions, Discharge & Transfers)
  * ORM (Orders)
  * ORU (Results)
  * SCH (Schedules)
  * PHA (Pharmacy)
  * MFN (Master File Notifications)
  * MDM (Medical Document Management)
  * VXU (Vaccinations) 

  For FHIR, we have included many of the commonly used Clinical Resources.
* <a href="https://github.com/RedHat-Healthcare/iDAAS-Connect-Clinical-ThirdParty" target="_blank">iDAAS Connect Clinical - Third Party</a> : This allows iDAAS to receive clinical data from almost two dozen connectors. The connectors include JDBC (any JDBC compliant data source with suitable JDBC driver), Kafka, FTP/FTPS, sFTP, AS400, HTTP(s), REST and many more.
* <a href="https://github.com/RedHat-Healthcare/iDAAS-Connect-Clinical-MiddleTier" target="_blank">iDAAS Connect Clinical Middle Tier</a>: This component is specifically implemented to help keep the iDAAS Connect Clinical Industry Standards component small by separating out the data streaming and HCDD-EIP (Healthcare Data Distribution and Enterprise Integration Pattern). 
* <a href="https://github.com/RedHat-Healthcare/iDAAS-Connect-Financial-IndustryStandards" target="_blank">iDAAS Connect Financial Industry Standards</a>: This provides the required integration standards and protocols to support healthcare's financial transactions. It is uses FHIR based transactions, supporting all of the commonly used Financial Resources.
* <a href="https://github.com/RedHat-Healthcare/iDAAS-Connect-Financial-ThirdParty" target="_blank">iDAAS Connect Financial Third Party</a>: (Same as its Clinical counterpart above) This allows iDAAS to receive data from almost two dozen connectors. The connectors include JDBC (any JDBC compliant data source with suitable JDBC driver), Kafka, FTP/FTPS, sFTP, AS400, HTTP(s), REST and many more.

## iDAAS DREAM
* <a href="https://github.com/RedHat-Healthcare/iDAAS-DREAM/" target="_blank">iDAAS DREAM</a>: DREAM's design intent is to enable Red Hat, partners, SIs and developers to implement iDAAS and/or other capabilities, internal or external to iDAAS in a dynamic manner. This allows new features to be added without the need for the platform to be stopped or restarted.
 
## iDAAS Event Builder
* <a href="https://github.com/RedHat-Healthcare/iDAAS-EventBuilder/" target="_blank">iDAAS Event Builder</a>: iDAAS Event Builder enables Red Hat, partners, SIs and developers to develop, extend or enhance the platform's ability to transform data into any custom format for processing. iDAAS Event Builder is designed to call out and invoke needed events and can be quickly customized, based on business needs. Other than cloning the source code, all that's required is to include iDAAS Event Builder jar files. If you do not wish to leverage, enhance or extend the existing code, you can add your own custom code for processing and object building.

## iDAAS Data Hub
<a href="https://github.com/RedHat-Healthcare/iDAAS-DataIntegration-DataHub/" target="_blank">iDAAS Data Hub</a>: iDAAS Data Hub is where data relative to the platform is stored and, like the rest of iDAAS, it is intended to be extensible. It enables the processing and transformation of data using the included components and data models. A fundamental concept is that the Data Hub ensures resources have data driven insights from ANY activity the iDAAS platform participates in. Another key concern is that the data models and events the system consumes, allows the association of one organization to many healthcare entities and many applications.  In addition, the configuration of the components within each application is implementation specific. Because of this data enablement, iDAAS focuses on enabling a detailed eventing model to the iDAAS Data Hub for any activities the system performs. This is implemented through a transaction event which tracks a rich set of data attributes:
  * The iDAAS action being leveraged 
  * The iDAAS component that is leveraging the action
  * The date and time of the action
  * The data involved within the component
  * A subset of other attributes depending upon the action type: sending application, transactions processed, transactions generated, processing times, response times, and several more.

## iDAAS UI
 <a href="https://github.com/RedHat-Healthcare/iDAAS-UI/" target="_blank">iDAAS UI</a>: User Interface for accessing iDAAS Data Hub.
 
## iDAAS API
 <a href="https://github.com/RedHat-Healthcare/iDAAS-DataHub-API/" target="_blank">iDAAS API</a>: APIs built from the data tier within iDAAS Data Hub.

# Supporting Materials and Details
Within each component of the platform, the Red Hat Healthcare team wanted to try and assist developers, providing common 
implementation direction as we get feedback and continue to expand the iDAAS platforms footprint across SIs (Systems Integrators) and organizations.

## Content
* content: Is a high-level directory intended to maintain any content published about the platform. 
### General
* images/general - This is where general images used in content or materials for iDAAS are maintained.
* images/general/iDAAS-Platform - Images specific to the iDAAS platform and components.
* published/PDFs - Published Content about the iDAAS Platform
### Test Data
* testdata: is a base directory that has several sub-directories. Each sub-directory is intended to be specific to the type of data it contains.
 #### samples-bluebutton
 These are from the CMS Bluebutton site <a href="https://bluebutton.cms.gov/assets/ig/index.html" target="_blank">Blue Button CMS Site</a>
 #### samples-fhir
 These samples are from the HL7 FHIR community.
 #### samples-hl7
 These have come from merging some public sources. Here are a few examples: <br>
 <a href="https://asiis.azdhs.gov/phchub/help/SampleHL7Msgs.htm" target="_blank">Sample Source 1</a><br>
 <a href="https://blog.interfaceware.com/components-of-an-hl7-message/" target="_blank">Sample Message Source 2</a><br>
 <a href="https://help.interfaceware.com/getting-sample-hl7-data.html" target="_blank">Sample Message Source 3</a>

## Platform Scripts
General Platform scripts area. These are uplifted from various projects based on market types.
### Clinical
Clinical centric component Kafka topics
### Financial
Financial centric component Kafka topics

# Building and Running iDAAS
iDAAS is a series of components, so building it is a simple step, and running it involves configuring several iDAAS components and executing them together. Within each iDAAS component, there are specific implementation/running instructions. Since the platform leverages Maven, the instructions and commands are published and well known.

## Building
To build you will need to go to the main directory after cloning, or pulling the respective repositories, and run the following command where the pom.xml file is located (or configure an IDE):

> mvn clean build

## Running
To run any component run the following command from where the pom.xml file is located (or configure an IDE):

> mvn package

This will create a jar with the version defined in the pom.xml file within the /target directory. From the /target directory you can run the component by running: 
> java -jar <jarfilename.jar>

# Practical Implementation: Partnering Organization
In order to address the healthcare market needs, Red Hat’s healthcare team needed to ensure they had a real-world market focus to build out relevant market demonstrations and workshops for the platforms it was creating. To help achieve this they created a fictitious healthcare company named Care Delivery Corp US, its acronym is CADUCEUS (the medical symbol). The intent of doing this is to have a healthcare enterprise that resonates within the healthcare market. 

The Care Delivery Corporation US will help Red Hat healthcare demonstrate the following platform capabilities:
* Healthcare provider services
  * Hospitals
  * Physicians
  * Clinics
  * Same day surgery centers
  * Various ancillary such as radiology services
  * Cancer treatment and chronic disease management
* Healthcare support services 
  * Billing
  * Staffing
* Healthcare IT support services
  * Operations teams implementing and supporting COTS products
  * Data organizations supporting reporting and analytics needs
  * Data integration organizations to support data integration needs
  * Developing customized, business driven solutions 
  * Security organization to ensure compliance 
* Life sciences space to support their healthcare needs around Cancer treatment and chronic disease management

## Scenario: IT Digitization 
As with any organization, irrespective of industry or market, Care Delivery Corp is re-evaluating its overall IT capabilities as a by-product of needing to move into the digital realm. This re-evaluation is also being heavily influenced by their need to prepare for upcoming government mandates around interoperability specific to data access, not only for their patients, but also their other businesses as well. Through the journey of their re-evaluation of capabilities, they have identified some consistent challenges they are facing: 
* Lack of ability to innovate
* Vendor lock in
* Data interoperability, without waiting for numerous vendors
* Experiencing problems from partner to customer to patient to clinician to technologist

As they took these common findings to their enterprise integration division, the leadership team realized that also have a debt problem: technical, operational and functional in the way they deliver integration. So, they decided to look at the overall application development and integration market landscape and quickly realized that they wanted to focus mostly on the Open Source market versus a series of COTS products. 

As they looked at the Open Source space, Red Hat emerged as the leader. The technical leadership team realized that Red Hat had a very solid set of technologies to provide them the greatest range of capabilities for their current and future needs. From that decision came the question, "What platforms and capabilities could Red Hat provide?" Red Hat has dozens of products that have built massively scalable solutions for some of the largest corporations in the world including operating systems, integration, API management, business rules and complex event processing products, through application development and automation tools. 

Based on all these findings, Care Delivery Corp has decided to start their digital transformation and implement a home-grown platform, myEMR. myEMR is intended to be a platform for all Care Delivery US to leverage for its future digital and clinical data needs. In order to start their work efforts, they wanted to start integration for their enterprise standard clinical management information systems, Major Medical Systems (MMS) platform called Care Kiosk. 

| | |
| --- | --- |
| Enterprise Organization | Care Delivery US|
| Facility                | Medical Center TN (MCTN)|
| Sending Application     | Major Medical System (MMS) - Care Kiosk|


## Scenario: Existing Implementation Scenario(s) 
As Care Delivery Corp US talked with their enterprise integration team, they asked for a general architecture for their digital implementation needs. The plan is for one medical facility Medical Center TN (MCTN) supporting the processing of the following industry standard transactions:
* HL7 v2: Admissions, Orders, Results, Schedules, Master File Notifications, Medical Document Management, Scheduling and Vaccinations. 
* FHIR: All FHIR resources to provide the CMS Final Interoperability Rule compliance and help start them towards building out modern integration capabilities.

What they realized is they could not approach this effort like implementing clinical systems and knew they needed to develop an innovative approach to address their current and future data needs for this transformation.  

